<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Proje Yükle</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="card">
<h1 id="karsilama"></h1>
<input type="file" id="dosyaInput" />
<button onclick="projeYukle()">Projeyi Yükle</button>
<p id="durum"></p>
</div>


<script>
const ogrenciIsmi = localStorage.getItem('ogrenciIsmi');
if (!ogrenciIsmi) {
window.location.href = 'index.html';
}


document.getElementById('karsilama').innerText = `Merhaba, ${ogrenciIsmi}`;


function projeYukle() {
const dosya = document.getElementById('dosyaInput').files[0];
if (!dosya) {
alert('Lütfen bir dosya seçiniz');
return;
}


const durum = document.getElementById('durum');
durum.innerText = 'Dosya yükleniyor, lütfen bekleyiniz...';


const formData = new FormData();
formData.append('file', dosya);
formData.append('upload_preset', 'o0i7uguu');
formData.append('folder', `sinif-projeleri/${ogrenciIsmi}`);


fetch('https://api.cloudinary.com/v1_1/dspgqocgk/upload', {
method: 'POST',
body: formData
})
.then(yanit => yanit.json())
.then(() => {
durum.innerText = '✅ Proje başarıyla yüklendi.';
})
.catch(() => {
durum.innerText = '❌ Yükleme sırasında bir hata oluştu.';
});
}
</script>
</body>
</html>
